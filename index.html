<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Tareas</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/offcanvas.css">
    <meta name="theme-color" content="#007bff">
    <link rel="manifest" href="manifest.json">

    <style>
        .oculto {
            display: none;
        }
    </style>
</head>

<body>
    <header>
        <div class="header-top">
            <h1>
                <span id="task-total">0</span>
                <button id="btn-open" class="connection-indicator" title="Nueva tarea">
                    <span id="connection-status">ï¼‹</span>
                </button>
            </h1>
            <button id="abrirOffcanvas"><img src="assets/icons/settings.svg" class="rotating" alt></button>
        </div>
        <div class="header-bot">
            <div id="font-controls">
                <button id="btn-calendar"><img src="assets/icons/calendar.svg" alt></button>
                <button id="btn-toggle-filters"><img src="assets/icons/list-filter.svg" alt></button>


            </div>
            <div>
                <button id="btn-copy-selected"><img src="assets/icons/copy.svg" alt></button>
                <button id="btn-share-selected"><img src="assets/icons/share.svg" alt></button>
            </div>
        </div>
        <!-- OffCanvas Ajustes -->
        <div id="offcanvas" class="offcanvas">
            <div class="offcanvas-header">
                <div class="titulo-con-icono">
                    <img src="assets/icons/settings.svg" alt="icono" class="icono-svg">
                    <h3>Panel de Ajustes</h3>
                </div>
                <button id="cerrarOffcanvas" class="cerrar-btn">
                    <img src="assets/icons/danger.svg">
                </button>
            </div>
            <div class="offcanvas-body text-center">
                <!-- TamaÃ±o de fuente -->
                <div class="PanelFonts">
                    <button id="btn-increase-font" class="borderTheme">
                        <img src="assets/icons/a-arrow-up.svg" title="Aumentar fuente" alt="">
                    </button>
                    <span id="fontSizeLabel">TamaÃ±o de Fuente</span>
                    <button id="btn-decrease-font" class="borderTheme">
                        <img src="assets/icons/a-arrow-down.svg" title="Reducir fuente" alt="">
                    </button>




                </div>
                <hr>
                <!-- Tema oscuro/claro -->
                <div class="PanelMode">
                    <button id="toggle-theme" class="borderTheme">
                        <img id="theme-icon" src="assets/icons/moon.svg" width="18px" alt="Tema" />
                        <span>Modo claro</span>
                    </button>
                </div>
                <hr>
                <!-- Solo contenedor limpio -->
                <div class="PanelColors text-center">
                    <span class="SpanColor">Color del Tema</span>
                    <div id="colorContainer"></div>
                </div>
                <button id="reset-theme" class="reset-btn borderTheme">Restaurar preferencias</button>
            </div>
            <div class="offcanvas-footer">
                <span>Â© 2025 ZCAYD - & A.Z.</span>
            </div>
        </div>
        <!-- Calendario Modal (solo para mÃ³viles) -->
        <div id="calendar-modal" class="calendar-modal hidden">
            <div class="calendar-modal-content">
                <!-- Fila de encabezado -->
                <div class="calendar-header-row">
                    <h2 id="calendar-title">ğŸ“… Calendario</h2>
                    <div class="calendar-header-buttons">
                        <button id="modal-today-btn"><img src="assets/icons/CalendarCheck.svg" alt></button>
                        <button class="calendar-close-btn">
                            <img src="assets/icons/danger.svg">
                        </button>
                    </div>
                </div>
                <div class="calendar-nav">
                    <button id="prev-month"><img src="assets/icons/circle-chevron-left.svg" alt></button>
                    <span id="calendar-month-label"></span>
                    <button id="next-month"><img src="assets/icons/circle-chevron-right.svg" alt></button>
                </div>
                <div id="calendar-grid" class="calendar-grid"></div>
            </div>
        </div>
        <!-- Panel de filtros oculto por defecto -->
        <div id="filters-panel" class="panel filters-panel oculto">
            <div class="filters-container">
                <div class="search-bar">
                    <input type="text" id="search-input" placeholder="Buscar tÃ­tulo, descripciÃ³n, categorÃ­a o fecha" />
                    <button id="btn-clear-filters" title="Borrar Filtros">
                        <img src="assets/icons/brush-cleaning.svg" alt="">
                    </button>
                </div>
                <div class="filter-container">
                    <select id="filter-category">
                        <option value="">ğŸ“‚ CategorÃ­as</option>
                        <option value="personal">ğŸ”¸Personal</option>
                        <option value="trabajo">ğŸ”¸Trabajo</option>
                        <option value="estudio">ğŸ”¸Estudio</option>
                        <option value="compra">ğŸ”¸Compra</option>
                        <option value="salud">ğŸ”¸Salud</option>
                        <option value="iglesia">ğŸ”¸Iglesia</option>
                        <option value="visita">ğŸ”¸Visita</option>
                        <option value="otros">ğŸ”¸Otros</option>
                    </select>
                    <select id="filter-priority">
                        <option value="">âš ï¸ Prioridad</option>
                        <option value="alta">ğŸ”¸ Alta</option>
                        <option value="media">ğŸ”¸ Media</option>
                        <option value="baja">ğŸ”¸ Baja</option>
                    </select>
                    <select id="filter-date">
                        <option value="">ğŸ“… Fechas</option>
                        <option value="past">ğŸ”¸ Pasadas</option>
                        <option value="today">ğŸ”¸ Hoy</option>
                        <option value="future">ğŸ”¸ Futuras</option>
                    </select>
                    <select id="filter-status">
                        <option value="">ğŸ•’ Estado</option>
                        <option value="completed">âœ… Listos</option>
                        <option value="pending">â³ Pendientes</option>
                    </select>
                </div>
            </div>
        </div>
        <script>
            const btnToggleFilters = document.getElementById('btn-toggle-filters');
            const filtersPanel = document.getElementById('filters-panel');

            btnToggleFilters.addEventListener('click', () => {
                filtersPanel.classList.toggle('oculto');
            });
        </script>
    </header>
    <!-- Modal de nueva tarea -->
    <div id="task-modal" class="modal hidden">
        <div class="modal-content">
            <button type="button" id="btn-close-modal" class="btn-close-modal">
                <img src="assets/icons/danger.svg" alt="Cerrar" class="icon-btn">
            </button>
            <h2 id="modal-title">Nueva Tarea</h2>
            <form id="task-form" class="form-task">
                <div class="input-with-speech">
                    <input type="text" id="task-title" name="titulo" placeholder="TÃ­tulo" class="input-titulo" required>
                    <button type="button" id="btn-speech-title" class="btn-speech"></button>
                    <button type="button" id="btn-clear-title" class="btn-clear-input">
                        <img src="assets/icons/trash.svg" alt="Borrar" class="icon-btn">
                    </button>
                </div>
                <div class="row-group">
                    <select id="task-category" name="categoria">
                        <option value="">ğŸ“‚ CategorÃ­a</option>
                        <option value="personal">ğŸ”¸Personal</option>
                        <option value="trabajo">ğŸ”¸Trabajo</option>
                        <option value="estudio">ğŸ”¸Estudio</option>
                        <option value="compra">ğŸ”¸Compra</option>
                        <option value="salud">ğŸ”¸Salud</option>
                        <option value="iglesia">ğŸ”¸Iglesia</option>
                        <option value="visita">ğŸ”¸Visita</option>
                        <option value="otras">ğŸ”¸Otras</option>
                    </select>
                    <select name="prioridad" id="task-priority">
                        <option value="">âš ï¸ Prioridad</option>
                        <option value="alta">ğŸ”¸Alta</option>
                        <option value="media">ğŸ”¸Media</option>
                        <option value="baja">ğŸ”¸Baja</option>
                    </select>
                </div>
                <div class="row-group">
                    <input type="date" id="task-date" name="fecha" />
                    <input type="time" id="task-time" name="hora" />
                </div>
                <div class="input-with-speech">
                    <textarea id="task-desc" name="descripcion" placeholder="DescripciÃ³n"></textarea>


                    <button type="button" id="btn-speech-desc" class="btn-speech"></button>
                    <button type="button" id="btn-clear-desc" class="btn-clear-input"><img src="assets/icons/trash.svg"
                            alt="Borrar" class="icon-btn"></button>
                </div>
                <div class="row-group btn-group">
                    <button type="button" id="btn-cancel" class="btn-cancelar">Cancelar</button>
                    <button type="submit" id="btn-save" class="btn-guardar">Guardar</button>
                </div>
            </form>
            <div id="dictado-preview-global" class="dictado-flotante"></div>

        </div>
    </div>
    <!-- Contenedor principal en 2 columnas -->
    <main class="main-layout">
        <section class="task-column">
            <template id="task-template">
                <li class="task-item">
                    <div class="task-action-row">
                        <div class="task-buttons"></div>
                        <button class="btn-delete-inline"></button>
                    </div>
                </li>
            </template>
            <ul id="task-list"></ul>
        </section>
        <aside class="calendar-column" id="calendar-sidebar">
            <div class="Calendar-aside">
                <div id="calendar-header" class="calendar-header">
                    <button id="toggle-aside-position" title="Cambiar de lado">
                        <img src="assets/icons/arrow-right-left.svg" alt>
                    </button>
                    <button id="aside-prev-month"><img src="assets/icons/circle-chevron-left.svg" alt></button>
                    <span id="aside-calendar-month-label"></span>
                    <button id="aside-next-month"><img src="assets/icons/circle-chevron-right.svg" alt></button>
                    <button id="aside-today-btn"><img src="assets/icons/CalendarCheck.svg" alt></button>
                </div>
                <div id="aside-calendar-grid" class="calendar-grid"></div>
            </div>

            <div id="aside-tasks-without-date-list" class="list-sdate"></div>

        </aside>
    </main>
    <footer>
        <div class="footer-top">
            <div id="task-completed">Completadas: 0</div> |
            <div id="task-pending">Pendientes: 0</div>
        </div>
        <div class="footer-bottom">
            <span>Â© 2025 ZCAYD - & A.Z.</span>
            <button id="btn-install" style="display: none;"></button>
        </div>
    </footer>
    <div id="toast-container"></div>
    <!-- Scripts -->
    <script type="module" src="./js/utils.js"></script>
    <script type="module" src="./js/main.js"></script>
    <script type="module" src="js/theme.js"></script>
    <script src="js/offcanvas.js"></script>
    <script type="module" src="js/asidePosition.js"></script>


    <script src="regist_serviceWorker.js"></script>
</body>

</html>